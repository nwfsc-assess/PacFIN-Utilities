<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Write SQL text — sql • PacFIN.Utilities</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Write SQL text — sql"><meta property="og:description" content="Write SQL text as a single character string that will result in getting the
relevant data from the PacFIN database."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">PacFIN.Utilities</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.10</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/sablefish_example.html">Working through sablefish PacFIN data</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Write SQL text</h1>

    <div class="hidden name"><code>sql.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Write SQL text as a single character string that will result in getting the
relevant data from the PacFIN database.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">sql_area</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">sql_bds</span><span class="op">(</span><span class="va">pacfin_species_code</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">sql_catch</span><span class="op">(</span><span class="va">pacfin_species_code</span>, council_code <span class="op">=</span> <span class="st">"P"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">sql_species</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">sql_check_FINAL_FISH_AGE_IN_YEARS</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-pacfin-species-code">pacfin_species_code<a class="anchor" aria-label="anchor" href="#arg-pacfin-species-code"></a></dt>
<dd><p>A vector of strings specifying the PacFIN species
code(s) you are interested in. This has sometimes been referred to as
<code>"SPID"</code> in legacy sql scripts. An example for sablefish would be
<code>pacfin_species_code = "SABL"</code>. Lists of species codes in <a href="https://pacfin.psmfc.org/pacfin_pub/data_rpts_pub/code_lists/sp_tree.txt" class="external-link">hierarchical order</a>,
by
<a href="https://pacfin.psmfc.org/pacfin_pub/data_rpts_pub/code_lists/agency_spcodes.txt" class="external-link">organization</a>,
and <a href="https://pacfin.psmfc.org/pacfin_pub/data_rpts_pub/code_lists/agency_spcodes_spid.txt" class="external-link">alphabetically organized</a>
can be found on the <a href="https://pacfin.psmfc.org" class="external-link">PacFIN website</a>. Often you
will want to include nominal species categories. Where, nominal (i.e.,
<a href="https://www.google.com/search?q=NOMINAL&amp;rlz=1C1GCEJ_enUS866US866&amp;sourceid=chrome&amp;ie=UTF-8" class="external-link">existing in name only</a>)
means information for a given species that is "derived" from non-species
specific information, e.g., species complexes that are split out by species
compositions like "nominal aurora rockfish" which would be <code>ARR1</code>. For some
functions, these nominal categories can automatically be added, see the
argument <code>addnominal</code>.</p></dd>


<dt id="arg-council-code">council_code<a class="anchor" aria-label="anchor" href="#arg-council-code"></a></dt>
<dd><p>A vector of character strings specifying the council code
that you wish to retain data for. The default <code>"P"</code> means data will only be
returned for the Pacific Fisheries Management Council. Other accepted
values are <code>"N"</code> or <code>"*"</code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A single character string formatted as an sql call.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p><code>sql_area()</code> results in area data</p>
<p><code>sql_bds()</code> results in biological data</p>
<p><code>sql_bds()</code> results in catch data</p>
<p><code>sql_species()</code> results in data frame of species names</p>
<p><code>sql_check_FINAL_FISH_AGE_IN_YEARS()</code> results in a data frame of number of
unique <code>FISH_ID</code>s present in PacFIN per <code>PACFIN_SPECIES_CODE</code> and
<code>AGENCY_CODE</code>, i.e., species and state sampling agency, that have entries for
<code>AGE_IN_YEARS</code> but have <code>NULL</code> values for <code>FINAL_FISH_AGE_IN_YEARS</code>. In
theory, this table should have zero rows. But, there may be reasons why these
entries do not have a final age value and potentially should not be used in
assessments of population status. Thus, the result is used in an automated
check and to create warning labels when downloading data.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Kelli F. Johnson and John R. Wallace</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Kelli F. Johnson, Chantel R. Wetzel.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

